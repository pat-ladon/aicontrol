<!-- START: templates/partials/status_bar.html -->

<!-- 
  hx-swap-oob="true" tells HTMX to find the element with id="status-bar" 
  on the page and swap its content, even though this snippet is part
  of a larger response.
-->
<div
  id="status-bar"
  hx-swap-oob="true"
  class="w-full flex justify-between items-center text-xs px-4"
>
  <div class="text-gray-500 dark:text-gray-400">
    <span>{{ controls_count }} controls loaded.</span>
    {% if best_practices_count and best_practices_count > 0 %}
    <span class="text-gray-300 dark:text-gray-600">|</span>
    <span>{{ best_practices_count }} best practices considered.</span>
    {% endif %}
  </div>
  <div class="text-right text-gray-500 dark:text-gray-400">
    {% if response_time and response_time > 0 %}
    <!-- CHANGE: Added if/else block for human-readable time -->
    <span
      >Server Response: {% if response_time >= 1 %} {{
      "%.2f"|format(response_time) }} s {% else %} {{
      "%.2f"|format(response_time * 1000) }} ms {% endif %}
    </span>
    <span class="italic ml-2">(high latency channel)</span>
    {% endif %}
  </div>
</div>

<!-- END: templates/partials/status_bar.html -->
