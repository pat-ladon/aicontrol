<!-- templates/partials/action_buttons.html -->

<div
  class="mt-4 flex items-center space-x-3 p-2 bg-black/5 dark:bg-white/5 border border-black/10 dark:border-white/10 rounded-full"
>
  <!-- button class="bg-blue-600 text-white px-4 py-2" -->
  <button
    class="flex-1 px-4 py-2 text-sm font-semibold text-white bg-primary-600/80 border border-white/20 backdrop-blur-sm shadow-glass-sm rounded-full transition-all hover:bg-primary-600"
    hx-post="/controls/refine"
    hx-target="#refinements-output"
    hx-trigger="click"
    hx-vals="js:{current_html: document.getElementById('assessment-workspace-content').innerHTML, control_id: '{{ control.id }}'}"
    hx-indicator="#refine-spinner"
  >
    Refine Assessment
  </button>
  <span id="refine-spinner" class="htmx-indicator">Loading...</span>

  <button
    class="bg-gray-500 text-white px-4 py-2"
    hx-post="/controls/check-quality"
    hx-target="#quality-check-container"
    hx-swap="innerHTML"
    hx-trigger="click"
    hx-vals="js:{assessment_html: document.getElementById('assessment-workspace-content').innerHTML}"
    hx-indicator="#quality-spinner"
  >
    Check Quality
  </button>
  <span id="quality-spinner" class="htmx-indicator">Loading...</span>

  <button
    class="bg-red-600 text-white px-4 py-2"
    onclick="grc.resetWorkspace('{{ control.id }}')"
  >
    Reset
  </button>
</div>
